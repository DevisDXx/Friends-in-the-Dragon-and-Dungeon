{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devis\\\\Downloads\\\\react-rpg.com-master\\\\src\\\\features\\\\dialog-manager\\\\dialogs\\\\settings-dialog\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport Button from '../../../../components/button';\nimport ConfirmDialog from '../../../../components/confirm-dialog';\nimport Dialog from '../../../../components/dialog';\nimport closeSettings from '../../actions/close-settings';\nimport resetGameState from '../../../world/actions/reset-game-state';\nimport './settings-dialog.scss';\nimport { ENTER_KEY, ESC_KEY } from '../../../../config/constants';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SettingsDialog = _ref => {\n  _s();\n  let {\n    state,\n    resetGameState,\n    closeSettings\n  } = _ref;\n  const [confirmQuit, setConfirmQuit] = useState(false);\n  const saveGame = () => {\n    const blob = new Blob([JSON.stringify(state)]);\n    const filename = state.dialog.character.characterName + '.json';\n    if (window.navigator.msSaveBlob) {\n      // Internet Explorer/Edge\n      window.navigator.msSaveBlob(blob, filename);\n    } else {\n      // Chrome/Firefox\n      const save = document.getElementById('save-game-dialog');\n      const url = window.URL.createObjectURL(blob, {\n        type: 'octet/stream'\n      });\n      save.href = url;\n      save.download = filename;\n      save.click();\n      window.URL.revokeObjectURL(url);\n    }\n  };\n  const playerCreated = state.dialog.character.characterName || state.dialog.character.characterName.length > 0;\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    keys: [ENTER_KEY, ESC_KEY],\n    onKeyPress: key => {\n      if (key === ENTER_KEY) {\n        setConfirmQuit(true);\n      } else {\n        closeSettings();\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-column settings-dialog__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"settings-dialog__title\",\n        children: 'Settings'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setConfirmQuit(true),\n        icon: \"caret-square-left\",\n        title: \"Return to Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), playerCreated && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: saveGame,\n          icon: \"save\",\n          title: \"Save Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#save\",\n          id: \"save-game-dialog\",\n          style: {\n            display: 'none'\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: closeSettings,\n        icon: \"times\",\n        title: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      open: confirmQuit,\n      text: \"Are you sure you want to quit? You will lose all progress...\",\n      onClose: () => setConfirmQuit(false),\n      acceptKeys: true,\n      confirm: resetGameState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(SettingsDialog, \"k3q5KsEhUDLMMYKbymVVO2adlBY=\");\n_c = SettingsDialog;\nconst mapStateToProps = state => ({\n  state\n});\nconst actions = {\n  resetGameState,\n  closeSettings\n};\nexport default connect(mapStateToProps, actions)(SettingsDialog);\nvar _c;\n$RefreshReg$(_c, \"SettingsDialog\");","map":{"version":3,"names":["React","useState","connect","Button","ConfirmDialog","Dialog","closeSettings","resetGameState","ENTER_KEY","ESC_KEY","jsxDEV","_jsxDEV","Fragment","_Fragment","SettingsDialog","_ref","_s","state","confirmQuit","setConfirmQuit","saveGame","blob","Blob","JSON","stringify","filename","dialog","character","characterName","window","navigator","msSaveBlob","save","document","getElementById","url","URL","createObjectURL","type","href","download","click","revokeObjectURL","playerCreated","length","keys","onKeyPress","key","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","icon","title","id","style","display","open","text","onClose","acceptKeys","confirm","_c","mapStateToProps","actions","$RefreshReg$"],"sources":["C:/Users/devis/Downloads/react-rpg.com-master/src/features/dialog-manager/dialogs/settings-dialog/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport Button from '../../../../components/button';\nimport ConfirmDialog from '../../../../components/confirm-dialog';\nimport Dialog from '../../../../components/dialog';\nimport closeSettings from '../../actions/close-settings';\nimport resetGameState from '../../../world/actions/reset-game-state';\n\nimport './settings-dialog.scss';\nimport { ENTER_KEY, ESC_KEY } from '../../../../config/constants';\n\nconst SettingsDialog = ({ state, resetGameState, closeSettings }) => {\n    const [confirmQuit, setConfirmQuit] = useState(false);\n\n    const saveGame = () => {\n        const blob = new Blob([JSON.stringify(state)]);\n        const filename = state.dialog.character.characterName + '.json';\n\n        if (window.navigator.msSaveBlob) {\n            // Internet Explorer/Edge\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            // Chrome/Firefox\n            const save = document.getElementById('save-game-dialog');\n            const url = window.URL.createObjectURL(blob, {\n                type: 'octet/stream',\n            });\n            save.href = url;\n            save.download = filename;\n            save.click();\n            window.URL.revokeObjectURL(url);\n        }\n    };\n\n    const playerCreated =\n        state.dialog.character.characterName ||\n        state.dialog.character.characterName.length > 0;\n\n    return (\n        <Dialog\n            keys={[ENTER_KEY, ESC_KEY]}\n            onKeyPress={key => {\n                if (key === ENTER_KEY) {\n                    setConfirmQuit(true);\n                } else {\n                    closeSettings();\n                }\n            }}\n        >\n            <div className=\"flex-column settings-dialog__container\">\n                <span className=\"settings-dialog__title\">{'Settings'}</span>\n\n                <Button\n                    onClick={() => setConfirmQuit(true)}\n                    icon=\"caret-square-left\"\n                    title=\"Return to Menu\"\n                />\n\n                {playerCreated && (\n                    <>\n                        <Button\n                            onClick={saveGame}\n                            icon=\"save\"\n                            title=\"Save Game\"\n                        />\n                        <a\n                            href=\"#save\"\n                            id=\"save-game-dialog\"\n                            style={{ display: 'none' }}\n                        >\n                            Save\n                        </a>\n                    </>\n                )}\n\n                <Button onClick={closeSettings} icon=\"times\" title=\"Close\" />\n            </div>\n\n            <ConfirmDialog\n                open={confirmQuit}\n                text=\"Are you sure you want to quit? You will lose all progress...\"\n                onClose={() => setConfirmQuit(false)}\n                acceptKeys\n                confirm={resetGameState}\n            />\n        </Dialog>\n    );\n};\n\nconst mapStateToProps = state => ({\n    state,\n});\nconst actions = { resetGameState, closeSettings };\n\nexport default connect(mapStateToProps, actions)(SettingsDialog);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}